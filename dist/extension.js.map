{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://arseno/external commonjs \"vscode\"","webpack://arseno/external node-commonjs \"child_process\"","webpack://arseno/webpack/bootstrap","webpack://arseno/./src/extension.ts"],"sourcesContent":["module.exports = require(\"vscode\");","module.exports = require(\"child_process\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import * as vscode from 'vscode';\r\nimport { exec } from 'child_process';\r\n\r\nconst frameworkOptions: { [key: string]: string[] } = {\r\n  php: [`Laravel`, `CodeIgniter`, `Symfony`],\r\n  javascript: [`React`, `Vue`, `Angular`, `Next.js`]\r\n};\r\n\r\nexport function activate(context: vscode.ExtensionContext) {\r\n  let disposable = vscode.commands.registerCommand(`arseno.WebAppCreate`, async () => {\r\n    console.log(`Command triggered`);\r\n\r\n    const folderName = await vscode.window.showInputBox({\r\n      prompt: `Enter folder name`,\r\n      placeHolder: `MyWebApp`,\r\n    });\r\n\r\n    console.log(`Folder name:`, folderName);\r\n\r\n    if (!folderName) {\r\n      return;\r\n    }\r\n\r\n    let previousSelections: string[] = [];\r\n\r\n    while (true) {\r\n      const languageSelection = await vscode.window.showQuickPick([...previousSelections, `PHP`, `JavaScript`, `Back`], {\r\n        placeHolder: `Select programming language`,\r\n      });\r\n\r\n      console.log(`Language selection:`, languageSelection);\r\n\r\n      if (!languageSelection) {\r\n        return;\r\n      }\r\n\r\n      if (languageSelection === `Back`) {\r\n        previousSelections.pop();\r\n        continue;\r\n      }\r\n\r\n      const frameworkSelection = await vscode.window.showQuickPick([...frameworkOptions[languageSelection.toLowerCase()], `Back`], {\r\n        placeHolder: `Select ${languageSelection} framework`,\r\n      });\r\n\r\n      console.log(`Framework selection:`, frameworkSelection);\r\n\r\n      if (!frameworkSelection) {\r\n        previousSelections.pop();\r\n        continue;\r\n      }\r\n\r\n      if (frameworkSelection === `Back`) {\r\n        continue;\r\n      }\r\n\r\n      previousSelections.push(languageSelection);\r\n      previousSelections.push(frameworkSelection);\r\n      // Check if Composer is installed for PHP/Laravel projects\r\n      if (languageSelection.toLowerCase() === `php` && [`Laravel`, `CodeIgniter`, `Symfony`].includes(frameworkSelection.toLowerCase())) {\r\n        exec(`composer -v`, (error, stdout, stderr) => {\r\n          if (error || stderr) {\r\n            const message = `Composer not found, do you want to install it?`;\r\n            const options = [`Yes`, `No`];\r\n\r\n            vscode.window.showQuickPick(options, { placeHolder: message }).then((response) => {\r\n              if (response === `Yes`) {\r\n                exec(`php -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\" && php -r \"if (hash_file('sha384', 'composer-setup.php') === '55ce33d7678c5a611085589f1f3ddf8b3c52d662cd01d4ba75c0ee0459970c2200a51f492d557530c71c15d8dba01eae') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\" && php composer-setup.php && php -r \"unlink('composer-setup.php');\"`\r\n                  , (error, stdout, stderr) => {\r\n                    if (error || stderr) {\r\n                      vscode.window.showErrorMessage(`Composer installation failed. Please install manually.`);\r\n                    } else {\r\n                      vscode.window.showInformationMessage(`Composer successfully installed.`);\r\n                    }\r\n                  });\r\n              } else if (response === `Back`) {\r\n                previousSelections.pop();\r\n                previousSelections.pop();\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      // Check if npm, npx, and node are installed for JavaScript projects\r\n      if (languageSelection.toLowerCase() === `javascript` && [`react`, `vue`, `angular`, `next.js`, `ember.js`, `meteor.js`].includes(frameworkSelection.toLowerCase())) {\r\n        exec(`npm -v && npx -v && node -v`, (error, stdout, stderr) => {\r\n          if (error || stderr) {\r\n            const missingPackages = [];\r\n\r\n            if (error && error.message && error.message.includes(`npm`)) {\r\n              missingPackages.push(`npm`);\r\n            }\r\n\r\n            if (error && error.message && error.message.includes(`npx`)) {\r\n              missingPackages.push(`npx`);\r\n            }\r\n\r\n            if (error && error.message && error.message.includes(`node`)) {\r\n              missingPackages.push(`node`);\r\n            }\r\n\r\n            const message = `${missingPackages.join(`, `)} not found, do you want to install them?`;\r\n            const options = [`Yes`, `No`];\r\n\r\n            vscode.window.showQuickPick(options, { placeHolder: message }).then((response) => {\r\n              if (response === `Yes`) {\r\n                exec(`curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash - && sudo apt-get install -y nodejs`, () => {\r\n                  exec(`npm install -g npm`);\r\n                  exec(`npm install -g npx`);\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n      // Create folder and initialize project\r\n      const terminal = vscode.window.createTerminal();\r\n      terminal.sendText(`mkdir ${folderName} && cd ${folderName}`);\r\n      if (languageSelection.toLowerCase() === `php`) {\r\n        switch (frameworkSelection.toLowerCase()) {\r\n          case `laravel`:\r\n            try {\r\n              terminal.sendText(`composer create-project --prefer-dist laravel/laravel ${folderName}`);\r\n            } catch (err: any) {\r\n              vscode.window.showErrorMessage(`Error: ${err.message}`);\r\n            }\r\n            break;\r\n          case `codeigniter`:\r\n            try {\r\n              terminal.sendText(`composer create-project codeigniter4/appstarter ${folderName}`);\r\n            } catch (err: any) {\r\n              vscode.window.showErrorMessage(`Error: ${err.message}`);\r\n            }\r\n            break;\r\n          case `symfony`:\r\n            try {\r\n              terminal.sendText(`composer create-project symfony/website-skeleton ${folderName}`);\r\n            } catch (err: any) {\r\n              vscode.window.showErrorMessage(`Error: ${err.message}`);\r\n            }\r\n            break;\r\n        }\r\n      } else if (languageSelection.toLowerCase() === `javascript`) {\r\n        switch (frameworkSelection.toLowerCase()) {\r\n          case `react`:\r\n            try {\r\n              terminal.sendText(`npx create-react-app ${folderName}`);\r\n            } catch (err: any) {\r\n              vscode.window.showErrorMessage(`Error: ${err.message}`);\r\n            }\r\n            break;\r\n          case `vue`:\r\n            try {\r\n              // Install Vue CLI\r\n              terminal.sendText(`npm install -g @vue/cli`);\r\n              // Create new Vue project\r\n              terminal.sendText(`vue create ${folderName}`);\r\n            } catch (err: any) {\r\n              vscode.window.showErrorMessage(`Error: ${err.message}`);\r\n            }\r\n            break;\r\n          case `angular`:\r\n            try {\r\n              terminal.sendText(`npm install -g @angular/cli`);\r\n              terminal.sendText(`ng new ${folderName}`);\r\n            } catch (err: any) {\r\n              vscode.window.showErrorMessage(`Error: ${err.message}`);\r\n            }\r\n            break;\r\n          case `next.js`:\r\n            try {\r\n              terminal.sendText(`npx create-next-app ${folderName}`);\r\n            } catch (err: any) {\r\n              vscode.window.showErrorMessage(`Error: ${err.message}`);\r\n            }\r\n            break;\r\n        }\r\n      }\r\n      terminal.show();\r\n    }\r\n  });\r\n  context.subscriptions.push(disposable);\r\n} "],"names":["module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","frameworkOptions","php","javascript","context","disposable","vscode","commands","registerCommand","async","console","log","folderName","window","showInputBox","prompt","placeHolder","previousSelections","languageSelection","showQuickPick","pop","frameworkSelection","toLowerCase","push","includes","exec","error","stdout","stderr","message","options","then","response","showErrorMessage","showInformationMessage","missingPackages","join","terminal","createTerminal","sendText","err","show","subscriptions"],"sourceRoot":""}