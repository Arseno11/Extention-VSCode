(()=>{"use strict";var e={496:e=>{e.exports=require("vscode")},81:e=>{e.exports=require("child_process")}},s={};function o(r){var a=s[r];if(void 0!==a)return a.exports;var t=s[r]={exports:{}};return e[r](t,t.exports,o),t.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=void 0;const s=o(496),a=o(81),t={php:["Laravel","CodeIgniter","Symfony"],javascript:["React","Vue","Angular","Next.js"]};e.activate=function(e){let o=s.commands.registerCommand("arseno.WebAppCreate",(async()=>{console.log("Command triggered");const e=await s.window.showInputBox({prompt:"Enter folder name",placeHolder:"MyWebApp"});if(console.log("Folder name:",e),!e)return;let o=[];for(;;){const r=await s.window.showQuickPick([...o,"PHP","JavaScript","Back"],{placeHolder:"Select programming language"});if(console.log("Language selection:",r),!r)return;if("Back"===r){o.pop();continue}const n=await s.window.showQuickPick([...t[r.toLowerCase()],"Back"],{placeHolder:`Select ${r} framework`});if(console.log("Framework selection:",n),!n){o.pop();continue}if("Back"===n)continue;o.push(r),o.push(n),"php"===r.toLowerCase()&&["Laravel","CodeIgniter","Symfony"].includes(n.toLowerCase())&&(0,a.exec)("composer -v",((e,r,t)=>{if(e||t){const e="Composer not found, do you want to install it?",r=["Yes","No"];s.window.showQuickPick(r,{placeHolder:e}).then((e=>{"Yes"===e?(0,a.exec)("php -r \"copy('https://getcomposer.org/installer', 'composer-setup.php');\" && php -r \"if (hash_file('sha384', 'composer-setup.php') === '55ce33d7678c5a611085589f1f3ddf8b3c52d662cd01d4ba75c0ee0459970c2200a51f492d557530c71c15d8dba01eae') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;\" && php composer-setup.php && php -r \"unlink('composer-setup.php');\"",((e,o,r)=>{e||r?s.window.showErrorMessage("Composer installation failed. Please install manually."):s.window.showInformationMessage("Composer successfully installed.")})):"Back"===e&&(o.pop(),o.pop())}))}})),"javascript"===r.toLowerCase()&&["react","vue","angular","next.js","ember.js","meteor.js"].includes(n.toLowerCase())&&(0,a.exec)("npm -v && npx -v && node -v",((e,o,r)=>{if(e||r){const o=[];e&&e.message&&e.message.includes("npm")&&o.push("npm"),e&&e.message&&e.message.includes("npx")&&o.push("npx"),e&&e.message&&e.message.includes("node")&&o.push("node");const r=`${o.join(", ")} not found, do you want to install them?`,t=["Yes","No"];s.window.showQuickPick(t,{placeHolder:r}).then((e=>{"Yes"===e&&(0,a.exec)("curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash - && sudo apt-get install -y nodejs",(()=>{(0,a.exec)("npm install -g npm"),(0,a.exec)("npm install -g npx")}))}))}}));const c=s.window.createTerminal();if(c.sendText(`mkdir ${e} && cd ${e}`),"php"===r.toLowerCase())switch(n.toLowerCase()){case"laravel":try{c.sendText(`composer create-project --prefer-dist laravel/laravel ${e}`)}catch(e){s.window.showErrorMessage(`Error: ${e.message}`)}break;case"codeigniter":try{c.sendText(`composer create-project codeigniter4/appstarter ${e}`)}catch(e){s.window.showErrorMessage(`Error: ${e.message}`)}break;case"symfony":try{c.sendText(`composer create-project symfony/website-skeleton ${e}`)}catch(e){s.window.showErrorMessage(`Error: ${e.message}`)}}else if("javascript"===r.toLowerCase())switch(n.toLowerCase()){case"react":try{c.sendText(`npx create-react-app ${e}`)}catch(e){s.window.showErrorMessage(`Error: ${e.message}`)}break;case"vue":try{c.sendText("npm install -g @vue/cli"),c.sendText(`vue create ${e}`)}catch(e){s.window.showErrorMessage(`Error: ${e.message}`)}break;case"angular":try{c.sendText("npm install -g @angular/cli"),c.sendText(`ng new ${e}`)}catch(e){s.window.showErrorMessage(`Error: ${e.message}`)}break;case"next.js":try{c.sendText(`npx create-next-app ${e}`)}catch(e){s.window.showErrorMessage(`Error: ${e.message}`)}}c.show()}}));e.subscriptions.push(o)}})(),module.exports=r})();